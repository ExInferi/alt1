{"version":3,"sources":["webpack://AnimalReader/webpack/universalModuleDefinition","webpack://AnimalReader/webpack/bootstrap","webpack://AnimalReader/C:/runeapps/libs/util/index.ts","webpack://AnimalReader/./imgs/animalhappy.data.png","webpack://AnimalReader/./index.ts","webpack://AnimalReader/external {\"root\":\"A1lib\",\"commonjs\":\"@alt1/base\",\"commonjs2\":\"@alt1/base\",\"amd\":\"@alt1/base\"}","webpack://AnimalReader/external {\"root\":\"OCR\",\"commonjs\":\"@alt1/ocr\",\"commonjs2\":\"@alt1/ocr\",\"amd\":\"@alt1/ocr\"}"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@alt1/base\"), require(\"@alt1/ocr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@alt1/base\", \"@alt1/ocr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@alt1/animal-reader\"] = factory(require(\"@alt1/base\"), require(\"@alt1/ocr\"));\n\telse\n\t\troot[\"AnimalReader\"] = factory(root[\"A1lib\"], root[\"OCR\"]);\n})((typeof self!='undefined'?self:this), function(__WEBPACK_EXTERNAL_MODULE__alt1_base__, __WEBPACK_EXTERNAL_MODULE__alt1_ocr__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export function copyToClipboard(str: string) {\r\n\tvar el = document.createElement('textarea');\r\n\tel.value = str;\r\n\tdocument.body.appendChild(el);\r\n\tel.select();\r\n\tdocument.execCommand('copy');\r\n\tdocument.body.removeChild(el);\r\n}\r\n\r\n\r\n\r\nexport type DragHandlerState = { x: number, y: number, dx: number, dy: number, sx: number, sy: number, end: boolean, start: boolean };\r\nexport function newDragHandler(mousedownevent: MouseEvent | React.MouseEvent, movefunc: (state: DragHandlerState, end: boolean) => any, endfunc: (state: DragHandlerState, end: boolean) => any, mindist: number) {\r\n\tvar locked = mindist != undefined;\r\n\tvar mouseloc: DragHandlerState;\r\n\r\n\r\n\tvar clientdx = mousedownevent.clientX - mousedownevent.screenX;\r\n\tvar clientdy = mousedownevent.clientY - mousedownevent.screenY;\r\n\r\n\t//TODO screenX approach breaks when zoomed or clientx is required\r\n\tvar x = mousedownevent.screenX + clientdx;\r\n\tvar y = mousedownevent.screenY + clientdy;\r\n\tvar init = function () { mouseloc = { x: x, y: y, dx: 0, dy: 0, sx: x, sy: y, end: false, start: true }; }\r\n\tinit();\r\n\r\n\tvar moved = function (e, end) {\r\n\t\tvar x = e.screenX + clientdx;\r\n\t\tvar y = e.screenY + clientdy;\r\n\t\tvar dx = x - mouseloc.x;\r\n\t\tvar dy = y - mouseloc.y;\r\n\t\tif (locked && Math.abs(dx) + Math.abs(dy) >= mindist) {\r\n\t\t\tlocked = false;\r\n\t\t}\r\n\t\tif (!locked) {\r\n\t\t\tmouseloc.end = end;\r\n\t\t\tmouseloc.dx = dx;\r\n\t\t\tmouseloc.dy = dy;\r\n\t\t\tmouseloc.x = x;\r\n\t\t\tmouseloc.y = y;\r\n\t\t\tmovefunc && movefunc(mouseloc, false);\r\n\t\t\tend && endfunc && endfunc(mouseloc, true);\r\n\t\t\tmouseloc.start = false;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar mousemove = function (e) {\r\n\t\tif (e.touches) {\r\n\t\t\te = e.touches[0];\r\n\t\t}\r\n\t\tmoved(e, false);\r\n\t};\r\n\tvar mouseup = function (e) {\r\n\t\tif (e.touches) {\r\n\t\t\te = e.touches[0];\r\n\t\t}\r\n\t\tif (e) { moved(e, true); }\r\n\t\tfor (var a in allframes) {\r\n\t\t\tvar frame = allframes[a];\r\n\t\t\tframe.removeEventListener(\"mousemove\", mousemove);\r\n\t\t\tframe.removeEventListener(\"mouseup\", mouseup);\r\n\t\t\tframe.removeEventListener(\"touchmove\", mousemove);\r\n\t\t\tframe.removeEventListener(\"touchend\", mouseup);\r\n\t\t}\r\n\t}\r\n\r\n\t//damn this is a mess, other frames consume the event so add handlers to every frame\r\n\t//currently still break when hovering over frame which arent parents of the current one\r\n\t//EDIT: THIS IS MADNESS\r\n\tvar allframes = [];\r\n\tvar recurframe = function (frame) {\r\n\t\tif (allframes.indexOf(frame) != -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tvar qq = frame.document;\r\n\t\t} catch (e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tallframes.push(frame);\r\n\t\tfor (var a = 0; a < frame.frames.length; a++) {\r\n\t\t\trecurframe(frame.frames[a]);\r\n\t\t}\r\n\t}\r\n\trecurframe(top);\r\n\trecurframe(window);\r\n\tfor (var a in allframes) {\r\n\t\tvar frame = allframes[a];\r\n\t\tframe.addEventListener(\"mousemove\", mousemove);\r\n\t\tframe.addEventListener(\"mouseup\", mouseup);\r\n\t\tframe.addEventListener(\"touchmove\", mousemove);\r\n\t\tframe.addEventListener(\"touchend\", mouseup);\r\n\t}\r\n}\r\n\r\nexport function startCaps(s: string) {\r\n\treturn s.charAt(0).toUpperCase() + s.slice(1);\r\n}\r\n\r\nexport async function delay(t: number, ...args) {\r\n\treturn new Promise(done => setTimeout(done, t, ...args));\r\n}\r\n\r\nexport function uuid() {\r\n\t//https://gist.github.com/jcxplorer/823878\r\n\tvar uuid = \"\", i, random;\r\n\tfor (i = 0; i < 32; i++) {\r\n\t\trandom = Math.random() * 16 | 0;\r\n\r\n\t\tif (i == 8 || i == 12 || i == 16 || i == 20) {\r\n\t\t\tuuid += \"-\"\r\n\t\t}\r\n\t\tuuid += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16);\r\n\t}\r\n\treturn uuid;\r\n}\r\n\r\nexport type ObjMap<T> = { [id: string]: T };\r\n\r\n//because js still has no proper way for this (ie11)\r\nexport function initArray<T>(l: number, val: T): T[] {\r\n\tvar r = [];\r\n\tr.length = l;\r\n\tfor (var a = 0; a < l; a += 1) { r[a] = val; }\r\n\treturn r;\r\n}\r\n\r\n\r\nexport function stringdownload(filename: string, text: string) {\r\n\tfiledownload(filename, 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\r\n}\r\n\r\nexport function filedownload(filename: string, url: string) {\r\n\tvar element = document.createElement('a');\r\n\telement.setAttribute('href', url);\r\n\telement.setAttribute('download', filename);\r\n\r\n\telement.style.display = 'none';\r\n\tdocument.body.appendChild(element);\r\n\r\n\telement.click();\r\n\r\n\tdocument.body.removeChild(element);\r\n}\r\n\r\nexport function listdate(time: number) {\r\n\tvar fullmonthnames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\tvar d = new Date(time);\r\n\treturn d.getDate() + \" \" + fullmonthnames[d.getMonth()] + \" \" + d.getFullYear();\r\n}\r\n\r\nexport function dlpagejson<D=any>(url: string, obj: any, func: (data: D) => any, errorfunc: () => any) {\r\n\tvar req = new XMLHttpRequest();\r\n\treq.onload = function () {\r\n\t\tvar obj = null;\r\n\t\ttry { obj = JSON.parse(req.responseText); }\r\n\t\tcatch (e) { }\r\n\t\tif (obj == null) {\r\n\t\t\tif (errorfunc) { errorfunc(); }\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (func) { func(obj); }\r\n\t}\r\n\treq.onerror = errorfunc;\r\n\tif (obj) {\r\n\t\treq.open(\"POST\", url, true);\r\n\t\treq.setRequestHeader(\"Content-type\", \"application/json\");\r\n\t\treq.send(JSON.stringify(obj));\r\n\t} else {\r\n\t\treq.open(\"GET\", url, true);\r\n\t\treq.send();\r\n\t}\r\n}\r\n\r\nexport namespace OldDom {\r\n\texport function id(id: string) {\r\n\t\treturn document.getElementById(id);\r\n\t}\r\n\r\n\texport function clear(el: HTMLElement) {\r\n\t\twhile (el.firstChild) { el.removeChild(el.firstChild); }\r\n\t}\r\n\r\n\ttype ObjAttr = { [prop: string]: any };\r\n\ttype ArrCh = (HTMLElement | string)[];\r\n\texport function div(strClass?: string, objAttr?: ObjAttr, arrayChildren?: ArrCh): HTMLElement;\r\n\texport function div(objAttr: ObjAttr, arrayChildren?: ArrCh): HTMLElement;\r\n\texport function div(strClass: string, arrayChildren?: ArrCh): HTMLElement;\r\n\texport function div(arrayChildren: ArrCh): HTMLElement;\r\n\texport function div(strClass?, objAttr?, arrayChildren?): HTMLElement {\r\n\t\tvar classname, attr, children, tag, tagarg, el, childfrag;\r\n\t\t//reorder arguments\r\n\t\tvar argi = 0;\r\n\t\tif (typeof arguments[argi] == \"string\") {\r\n\t\t\tvar typedata = arguments[argi++].split(\":\");\r\n\t\t\tclassname = typedata[0];\r\n\t\t\tvar tagdata = typedata[1] ? typedata[1].split(\"/\") : [];\r\n\t\t\ttag = tagdata[0];\r\n\t\t\ttagarg = tagdata[1];\r\n\t\t}\r\n\t\tif (typeof arguments[argi] == \"object\" && !Array.isArray(arguments[argi]) && !(arguments[argi] instanceof DocumentFragment)) { attr = arguments[argi++]; }\r\n\t\tif (typeof arguments[argi] == \"object\" && Array.isArray(arguments[argi])) { children = arguments[argi++]; }\r\n\t\telse if (typeof arguments[argi] == \"object\" && arguments[argi] instanceof DocumentFragment) { childfrag = arguments[argi++]; }\r\n\t\tattr = attr || {};\r\n\t\tif (classname) { attr[\"class\"] = classname; }\r\n\r\n\t\t//start actual work\r\n\t\ttag = attr && attr.tag || tag || \"div\";\r\n\t\tif (tag == \"input\" && tagarg) { attr.type = tagarg; }\r\n\t\tif (tag == \"frag\") { el = document.createDocumentFragment(); }\r\n\t\telse {\r\n\t\t\tvar el = (attr && attr.namespace ? document.createElementNS(attr.namespace, tag) : document.createElement(tag));\r\n\t\t}\r\n\t\tif (attr) {\r\n\t\t\tfor (var a in attr) {\r\n\t\t\t\tif (attr[a] === false || attr[a] == null || a == \"tag\" || a == \"namespace\") { continue; }\r\n\t\t\t\tif (a.substr(0, 2) == \"on\") { el[a] = attr[a]; }\r\n\t\t\t\telse { el.setAttribute(a, attr[a]); }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (children != null && children != undefined) {\r\n\t\t\tif (!Array.isArray(children)) { children = [children]; }\r\n\t\t\tfor (var a in children) {\r\n\t\t\t\tif (children[a] == null) { continue; }\r\n\t\t\t\tif (typeof children[a] != \"object\") { el.appendChild(document.createTextNode(children[a].toString())); }\r\n\t\t\t\telse { el.appendChild(children[a]); }\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (childfrag != null) {\r\n\t\t\tel.appendChild(childfrag);\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\r\n\texport function frag(...args: (HTMLElement | string | number | null)[]) {\r\n\t\tvar el = document.createDocumentFragment();\r\n\t\tfor (var a = 0; a < arguments.length; a++) {\r\n\t\t\tif (arguments[a] == null) { continue; }\r\n\t\t\tif (typeof arguments[a] != \"object\") { el.appendChild(document.createTextNode(arguments[a].toString())); }\r\n\t\t\telse { el.appendChild(arguments[a]); }\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\r\n\texport function put(el: HTMLElement | string, content: Node) {\r\n\t\tif (typeof el == \"string\") { el = id(el); }\r\n\t\tclear(el);\r\n\t\tel.appendChild(content);\r\n\t}\r\n}\r\n\r\nexport function smallu(nr: number, gp?: boolean) {\r\n\tif (isNaN(nr)) { return \"-\"; }\r\n\tnr = Math.round(nr);\r\n\tvar sign = (nr < 0 ? \"-\" : \"\");\r\n\tnr = Math.abs(nr);\r\n\tif (nr >= 1000000000000000) { return sign + \"quite a bit\" }\r\n\tif (nr % 1) {\r\n\t\tif (nr < 100) { return sign + (nr + \"00\").slice(0, 4); }\r\n\t\tnr = Math.floor(nr);\r\n\t}\r\n\tvar nrstr = nr + \"\";\r\n\tvar original = nrstr;\r\n\tif (nrstr.length <= 3) { return sign + nrstr + (gp ? \"gp\" : \"\"); }\r\n\tif (nrstr.length == 4) { return sign + nrstr.slice(0, 1) + \",\" + nrstr.slice(1, 4) + (gp ? \"gp\" : \"\"); }\r\n\tif (nrstr.length % 3 != 0) { nrstr = nrstr.slice(0, nrstr.length % 3) + \".\" + nrstr.slice(nrstr.length % 3, 3); }\r\n\telse { nrstr = nrstr.slice(0, 3); }\r\n\tif (original.length <= 6) { return sign + nrstr + \"k\" }\r\n\tif (original.length <= 9) { return sign + nrstr + \"m\" }\r\n\tif (original.length <= 12) { return sign + nrstr + \"b\" }\r\n\tif (original.length <= 15) { return sign + nrstr + \"t\" }\r\n\treturn \"error\";\r\n}\r\n\r\nexport function jsonTryDecode(str: string) {\r\n\ttry { return JSON.parse(str); }\r\n\tcatch (e) { return null; }\r\n}\r\n\r\nexport function urlArgs(url?: string): StringMap<string> {\r\n\tif (!url) { url = document.location.search; }\r\n\tvar reg = /(\\?|&)(.*?)(=(.*?))?(?=$|&)/g;\r\n\tvar r = {};\r\n\tfor (var m; m = reg.exec(url);) {\r\n\t\tr[m[2]] = m[4];\r\n\t}\r\n\treturn r;\r\n}\r\n\r\nexport function padLeft(str: string | number, n: number, char = \"0\") {\r\n\tstr = str + \"\";\r\n\twhile (str.length < n) { str = char + str; }\r\n\treturn str;\r\n}","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAIAAABLMMCEAAAAAXNSR0IDN8dNUwAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAABjSURBVBhXXY0rEoAwDETXILlBT9JevBKBRCPwCDQzpfymvLSOmUyy+7JplSddi+5Vz2YdDdE5K/i+lPLuiA4BsSW0eqNoiGU5JNgKbdng3e9diPJogz2+/uEgSlHHYKYVKEV9Aw5LIywzbzgAAAAASUVORK5CYII=\")","import * as a1lib from \"@alt1/base\";\r\nimport * as OCR from \"@alt1/ocr\";\r\nimport { ImgRef, RectLike } from \"@alt1/base\";\r\nimport { startCaps } from \"../../util\";\r\n\r\nvar stdfont = require(\"../ocr/fonts/aa_8px_mono_pof2.fontmeta.json\");\r\nvar namefont = require(\"../ocr/fonts/aa_12px_mono.fontmeta.json\");\r\n\r\n\r\nvar imgs = a1lib.ImageDetect.webpackImages({\r\n\thappynessicon: require(\"./imgs/animalhappy.data.png\"),\r\n});\r\n\r\nvar animalReaderInstance: InstanceType<typeof AnimalReader>;//can't find a way to do this without var\r\nexport type AnimalData = ReturnType<typeof animalReaderInstance.read>;\r\nexport var growtStages = {\r\n\tEgg: 0,\r\n\tBaby: 1,\r\n\tAdolescent: 2,\r\n\tAdult: 3,\r\n\tElder: 4\r\n};\r\nexport type GrowthStage = keyof typeof growtStages;\r\n\r\n\r\n\r\nexport default class AnimalReader {\r\n\tpos: RectLike = null;\r\n\r\n\tstatic compareAnimals(a1: AnimalData, a2: AnimalData) {\r\n\t\tvar fails = 0;\r\n\t\tif (a1.name != a2.name) { fails++; }\r\n\t\tif (a1.trait0 != a2.trait0) { fails++; }\r\n\t\tif (a1.trait1 != a2.trait1) { fails++; }\r\n\t\tif (a1.trait2 != a2.trait2) { fails++; }\r\n\t\tif (a1.flavourtext != a2.flavourtext) { fails++ }\r\n\t\tif (a1.ismale != a2.ismale) { fails++; }\r\n\t\treturn fails <= 1;\r\n\t}\r\n\r\n\tfind(img?: ImgRef) {\r\n\t\tif (!img) { img = a1lib.captureHoldFullRs(); }\r\n\r\n\t\tvar pos = img.findSubimage(imgs.happynessicon);\r\n\t\tif (pos.length == 0) { return null; }\r\n\r\n\t\tthis.pos = { x: pos[0].x - 44, y: pos[0].y - 154, width: 496, height: 232 };\r\n\t\treturn this.pos;\r\n\t}\r\n\r\n\tprivate readMultiline(data, col, x, y) {\r\n\t\tvar t = OCR.findReadLine(data, stdfont, [col], x, y);\r\n\t\tif (t.text == \"\") {\r\n\t\t\tvar t0 = OCR.findReadLine(data, stdfont, [col], x, y - 6);\r\n\t\t\tvar t1 = OCR.findReadLine(data, stdfont, [col], x, y + 6);\r\n\t\t\treturn t0.text + \" \" + t1.text;\r\n\t\t}\r\n\t\treturn t.text;\r\n\t}\r\n\r\n\tread(img: ImgRef) {\r\n\t\tif (!this.pos) { return null; }\r\n\r\n\r\n\t\tvar data = (img ? img.toData(this.pos.x, this.pos.y, this.pos.width, this.pos.height) : a1lib.capture(this.pos));\r\n\t\tif (!data) { return null; }\r\n\r\n\t\t//confirm interface\r\n\t\tif (data.pixelCompare(imgs.happynessicon, 44, 154) > 10) { return null; }\r\n\r\n\r\n\t\tvar name = startCaps(OCR.findReadLine(data, namefont, [[255, 203, 5]], 250, 20).text.toLowerCase());\r\n\r\n\t\tvar stage = OCR.findReadLine(data, stdfont, [[255, 255, 255]], 104, 40).text as GrowthStage;\r\n\t\tvar happy = parseInt(OCR.findReadLine(data, stdfont, [[255, 255, 255]], 109, 140).text) / 100;\r\n\t\tvar health = parseInt(OCR.findReadLine(data, stdfont, [[255, 255, 255]], 104, 157).text) / 100;\r\n\r\n\t\tvar readTrait = x => {\r\n\t\t\tvar t = this.readMultiline(data, [117, 146, 160], x, 173);\r\n\t\t\tif (t.match(/no trait/i)) { return \"\"; }\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\tvar trait0 = readTrait(256);\r\n\t\tvar trait1 = readTrait(351);\r\n\t\tvar trait2 = trait1 && readTrait(447);\r\n\r\n\t\tvar breedstr = OCR.readLine(data, stdfont, [255, 255, 255], 219, 49, true, false).text;\r\n\t\tvar breedm = breedstr.match(/Breed: ([\\w ]+?) \\((male|female)\\)/);\r\n\t\tvar ismale = breedm[2] == \"male\";\r\n\t\tvar breed = breedm[1];\r\n\r\n\t\tvar paddockType = OCR.readLine(data, stdfont, [255, 255, 255], 219, 65, true, false).text;\r\n\t\tvar weight = OCR.readLine(data, stdfont, [255, 255, 255], 219, 81, true, false).text;\r\n\t\tvar speed = OCR.readLine(data, stdfont, [255, 255, 255], 219, 98, true, false).text;\r\n\t\tvar attractiveness = OCR.readLine(data, stdfont, [255, 255, 255], 219, 115, true, false).text;\r\n\r\n\t\tvar flavourtext = this.readMultiline(data, [255, 255, 255], 243, 215);\r\n\r\n\t\treturn { stage, happy, health, trait0, trait1, trait2, breed, paddockType, weight, speed, attractiveness, name, flavourtext, ismale };\r\n\t}\r\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__alt1_base__;","module.exports = __WEBPACK_EXTERNAL_MODULE__alt1_ocr__;"],"sourceRoot":""}