{"version":3,"sources":["webpack://Chatbox/webpack/universalModuleDefinition","webpack://Chatbox/webpack/bootstrap","webpack://Chatbox/./imgs/chatLegacyBorder.data.png","webpack://Chatbox/./imgs/chatbubble.data.png","webpack://Chatbox/./imgs/entertochat.data.png","webpack://Chatbox/./imgs/filterbutton.data.png","webpack://Chatbox/./imgs/gameall.data.png","webpack://Chatbox/./imgs/gamefilter.data.png","webpack://Chatbox/./imgs/gameoff.data.png","webpack://Chatbox/./imgs/legacyreport.data.png","webpack://Chatbox/./imgs/minusbutton.data.png","webpack://Chatbox/./imgs/plusbutton.data.png","webpack://Chatbox/./imgs/reportbutton.data.png","webpack://Chatbox/./index.ts","webpack://Chatbox/external {\"root\":\"A1lib\",\"commonjs\":\"@alt1/base\",\"commonjs2\":\"@alt1/base\",\"amd\":\"@alt1/base\"}"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@alt1/base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@alt1/base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@alt1/chatbox\"] = factory(require(\"@alt1/base\"));\n\telse\n\t\troot[\"Chatbox\"] = factory(root[\"A1lib\"]);\n})((typeof self!='undefined'?self:this), function(__WEBPACK_EXTERNAL_MODULE__alt1_base__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAAQAAAAPCAIAAABMVPnqAAAAIUlEQVQYV2P4jwRAnNk92RA0mDjzJuRCOUAWlAMF//8DAJmOfBu3Ydq7AAAAAElFTkSuQmCC\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAoElEQVQoU5WRwQ3DIAxF2Sg9t1KvySSM0d46AgNw55aukAzAAizADE6eIxCy1EMPH4z9nxHGiYjq835JCEG+69rF2Xsv87zIbZpO2+XtQM5ZSilSa1URo23btUGMsYOOThRGYARpZkGFKFjAQiil9D/EbQrxSBIYrCzQb3o873qggMkam3gP01SIaRCQHE00ItfMDdDpsTTwl/gS9ssr7gAl2lnMS+w6XAAAAABJRU5ErkJggg==\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAABgAAAAJCAYAAAAo/ezGAAAAdElEQVQ4T62RSw7AIAhEOQTH8WCsXbvmuhRsTdQipqYmz88MJI4CM0tDB/zNPelipJT06Bee4oo9UbqV1+uDscLS5Zx163ulFN2OOiLWVxnEE1YpGq74FSISu/GsGy/hhDBBixgVecw9YYL6GQ+9uWPfI3ABK/Blt6d3IYgAAAAASUVORK5CYII=\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAAaElEQVQ4T9XLsQ2AMAxEUc+BxBysySTsQcEI7EF36JAcORdHoUMUv8jFz65jgXZuU2lf5zQD0OARonkg4+Eb6PcFMgc9GG8ryHpQ76qHp1D/WTOwCPXPS8fvINM/Lx1/CHWPpeMIAbAba/5W9dGOZAMAAAAASUVORK5CYII=\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAo0lEQVQ4T6XMsQkCQRAF0KnA5DA0MDG3A2uwlQuN7cVY07vgAkPBTA3FAixA5esXvuyeC+O6Cw+Gv/PH7oc5Hsf/sGupjxx2289Ar2c51LNrNwX1FzzqRQc0e6ID580YxFCzJ9y1y3oIYphDPTutBiCGmj3hbvmB3XICYphDveiA5hQVRfnXge1i9KY8/A9p7zP0FzzqlR9o6wolrEmEv2rqCk/yGcSB9N78JQAAAABJRU5ErkJggg==\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqUlEQVQ4T63MsQrCQBAE0P1LSzs7Sy3tBEvtFDFNwMYurVhY2lgKfkHyBXbJ6AQm3AnHcaeBB3ubnbGiaVE0XZZD3cI2jxd+MRR8Pkvxv4LVrQa5yxjeKucVaI7xChaXJ4jLFMp5BZpjvIJ5dQdxqTnGvbXZ6QriMoVyNi3PIC41E3+6bwVFe69gsq8QoqAMBaGDGOVsvD5mFzDbF7jUHPJ9b6PlDvm2eAMxAQErxoTm+QAAAABJRU5ErkJggg==\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAdUlEQVQ4T62MsQrAIAxE/bwOhS7tkMHBLi79/zVthAvaCjZq4MFx5J6jePEI8wTPOQsq2M/YJcAuBQHlH/LfuQILVQFyi0Kw+cCClMgt8t9CYEEFK3kVINfAEKBPI0FK5BoYAvSFwIIKloNYeD+0+Ah6GRQQ30BWZJSYN2VIAAAAAElFTkSuQmCC\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAACEAAAALCAYAAADx0+Q/AAAAlElEQVQ4T72OCQ4AIQgD/f+nXYuUgGLiukeTQVq8Sp2F7FdQWi2GKmz6CEh6Mfq4DQf/FfaO1EFt1ocKRX+SQ35lD/ErPcOafICfgp7kEGe9tF6gwYKiK/GaLrjbOx/mwSiQ9Ty8uuCgJ5YFo0zeKc0W+30+3kkgmYyXpJ5oZt5lRpZn+4DszQYbpI+fkoY7vPeJWi767hYjK0Ud6gAAAABJRU5ErkJggg==\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAABL0lEQVQoU2PIzMk01hbUVGDDg4AKgMoYgFRLCPOOOtbdLWxAtLeTHYIgXKA4EAEVAJUxaMizbilju75E9u4mNUx0Y7UqUGp3MzdQGYOKLCuQ9XCH7qPdxg+2Gt3aYgQkgWw4AqoGKgAqQ1EKVIep9NY2LRSlt5ZrXV6tc3axNgRdXgbiQhDQ1J1VfDClNcJAuSBTJjjy1GNy1WSyUWI0kWa8PE8JRem9VcaYirRFGIAIaOHmIhEUpQ9X2D1e74WGgIK3ZhluzRWFKt1VKXNvjgYE3exVujNZFYiQGViUQuSudCkD0bkGJSAJVAckUZQC+demaMBJoDpktClVEqRUVY6jOYRvR5HsznoVILklUxpIQhCQDUE1LtxAZQw6JgZAHfKSLLLi2BFQCqhAx8QAACI62b/ivxHFAAAAAElFTkSuQmCC\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAABT0lEQVQoU2PIzMk01hbUVGDDg4AKgMoYgFRLCPOOOtbdLWxAtLeTHYIgXKA4EAEVAJUxaMizbilju75E9u4mNSC6sVoVguBcoNTuZm6gMgYVWVYg6+EO3Ue7jYHo3irjIFOmYAumWztBXCC6tVwLqACoDEXprS1GQARUCkQQdSDBbahKgVovr9Y5u1j78jItTz0mIAJyIQjohp1VfDClNcJwFa6a6OjyPCUUpUAnAkUd1BiByEYJBQEt3FwkgqL04Qq7x+u9gCRQ2kKOEc69NcsQoXRXpcy9ORoQdKVL2USaEYhu9irdmawKREDG1lxRdKVACaAZ2iIMQHS1UweoDYJQlAL516aAjAQqvTLJBogutBmca1CCoE2pkiClqnIczSF8O4pkd9arAMktmdJAEoKAKoBcIKpx4QYqY9AxMQDqkJdkkRXHjoBSQAU6JgYAwvDKbZkKUHAAAAAASUVORK5CYII=\")","module.exports=require(\"@alt1/base\").ImageDetect.imageDataFromBase64(\"iVBORw0KGgoAAAANSUhEUgAAAA8AAAAQCAYAAADJViUEAAABAElEQVQ4T6WSvwtBURTHj0V+FknyB6AMZCH8ATbxByijwb9gsFsMBrvJaFAGu00sJilltlp0+N7Xua7rySuvPr1z7z2f77m9Ht0PdQbPR9cm2P8G3TZlBli4yUCabd5kqUG/W+FmI+8aJtB1lWUAWWrIvXaSS8WsCpHA9cg5E1xlQQJOi5y6RToVVQHST8d5nAEWUguXpSNDAoOOswc+5P0sxgL2MNkUzV4lo3E7DaoNvAWIkbCfC5moYtIL6OCfcqsWUqDGVATZAVqwZbAeJ/QbVyfy8WyYesnm5G+gBwG4gUwG+iPZgs3OkATPshuEHwDYB16g86LKwD7wwh8y0wNntoLFjD8QsQAAAABJRU5ErkJggg==\")","import * as a1lib from \"@alt1/base\";\r\nimport { ImgRef, ImgRefBind } from \"@alt1/base\";\r\n\r\n\r\nconst imgs = a1lib.ImageDetect.webpackImages({\r\n\tplusbutton: require(\"./imgs/plusbutton.data.png\"),\r\n\tminusbutton: require(\"./imgs/minusbutton.data.png\"),\r\n\tfilterbutton: require(\"./imgs/filterbutton.data.png\"),\r\n\tchatbubble: require(\"./imgs/chatbubble.data.png\"),\r\n\tchatLegacyBorder: require(\"./imgs/chatLegacyBorder.data.png\"),\r\n\tentertochat: require(\"./imgs/entertochat.data.png\"),\r\n\tgameoff: require(\"./imgs/gameoff.data.png\"),\r\n\tgamefilter: require(\"./imgs/gamefilter.data.png\"),\r\n\tgameall: require(\"./imgs/gameall.data.png\"),\r\n\tlegacyreport: require(\"./imgs/legacyreport.data.png\"),\r\n\treportbutton: require(\"./imgs/reportbutton.data.png\"),\r\n});\r\n\r\nconst timestampOffset = 56;\r\nconst defaultcolors = [\r\n\t[0, 255, 0],\r\n\t[0, 255, 255],\r\n\t[0, 175, 255],\r\n\t[0, 0, 255],\r\n\t[255, 82, 86],\r\n\t[159, 255, 159],\r\n\t[0, 111, 0],\r\n\t[255, 143, 143],\r\n\t[255, 152, 31],\r\n\t[255, 111, 0],\r\n\t[255, 255, 0],\r\n\t[239, 0, 0],\r\n\t[239, 0, 175],\r\n\t[255, 79, 255],\r\n\t[175, 127, 255],\r\n\t[48, 48, 48],\r\n\t[191, 191, 191],\r\n\t[127, 255, 255],\r\n\t[128, 0, 0],\r\n\t[255, 255, 255],\r\n\t[127, 169, 255],\r\n\t[255, 140, 56], //orange drop received text\r\n\t[255, 0, 0], //red achievement world message\r\n\t[69, 178, 71], //blueish green friend broadcast\r\n\t[164, 153, 125], //brownish gray friends/fc/cc list name\r\n\t[215, 195, 119] //interface preset color\r\n];\r\n\r\ntype Chatbox = {\r\n\trect: a1lib.Rect,\r\n\ttimestamp: boolean,\r\n\ttype: string,\r\n\tleftfound: boolean,\r\n\ttopright: a1lib.PointLike & { type: string },\r\n\tbotleft: a1lib.PointLike & { type: string },\r\n\tline0x: number,\r\n\tline0y: number\r\n};\r\n\r\nexport class ChatBoxReader {\r\n\tpos = null;\r\n\tdebug = null;\r\n\toverlaplines = [];\r\n\treadargs = {\r\n\t\tbackwards: true,\r\n\t\tcolors: defaultcolors.map(c => a1lib.mixColor(c[0], c[1], c[2]))\r\n\t};\r\n\r\n\tlineheight = 14;\r\n\tminoverlap = 2;\r\n\tdiffRead = true;\r\n\r\n\tread(img: ImgRefBind) {\r\n\t\tvar t = Date.now();\r\n\t\tif (!this.pos) { return null; }\r\n\t\tvar box = this.pos.mainbox;\r\n\t\tif (!img) { img = a1lib.captureHold(box.rect.x + (box.leftfound ? 0 : -300), box.rect.y, box.rect.width + (box.leftfound ? 0 : 300), box.rect.height); }\r\n\t\tif (!img) { return null; }\r\n\r\n\t\t//add timestamp colors if needed\r\n\t\tif (box.timestamp && this.readargs.colors) {\r\n\t\t\tvar cols = [a1lib.mixColor(127, 169, 255), a1lib.mixColor(255, 255, 255)];\r\n\t\t\tfor (var a in cols) {\r\n\t\t\t\tif (this.readargs.colors.indexOf(cols[a]) == -1) { this.readargs.colors.push(cols[a]); }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//TODO check scrollbar\r\n\t\tvar imgline0y = box.line0y + box.rect.y - img.y;\r\n\t\tvar imgline0x = box.line0x + box.rect.x - img.x;\r\n\r\n\t\tvar readlines = [];\r\n\t\tvar newlines = [];\r\n\t\tfor (var line = 0; true; line++) {\r\n\t\t\tvar liney = box.line0y - line * this.lineheight;\r\n\t\t\tvar imgliney = liney + box.rect.y - img.y;\r\n\t\t\tif (liney - this.lineheight < 0) {\r\n\t\t\t\tnewlines = readlines;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar str = JSON.parse(alt1.bindReadStringEx(img.handle, imgline0x, imgliney, JSON.stringify(this.readargs)));\r\n\t\t\t//retry with offset if timestamps are enabled\r\n\t\t\tif (!str && box.timestamp) { str = JSON.parse(alt1.bindReadStringEx(img.handle, imgline0x + timestampOffset, imgliney, JSON.stringify(this.readargs))); }\r\n\t\t\treadlines.unshift(str ? str : { text: \"\", fragments: [] });\r\n\t\t\t//console.log(str);\r\n\r\n\t\t\t//combine with previous reads\r\n\t\t\tif (this.diffRead) {\r\n\t\t\t\tif (readlines.length >= this.overlaplines.length && this.overlaplines.length >= this.minoverlap) {\r\n\t\t\t\t\tvar matched = true;\r\n\t\t\t\t\tfor (let a = 0; a < this.overlaplines.length; a++) {\r\n\t\t\t\t\t\tif (!this.matchLines(this.overlaplines[a].text, readlines[a].text)) { matched = false; break; }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (matched) {\r\n\t\t\t\t\t\tnewlines = readlines.slice(this.overlaplines.length, readlines.length);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.overlaplines = this.overlaplines.concat(newlines);\r\n\t\tif (this.overlaplines.length > this.minoverlap) { this.overlaplines.splice(0, this.overlaplines.length - this.minoverlap); }\r\n\r\n\t\t//qw(\"Read chat attempt time: \" + (Date.now() - t));\r\n\t\t//for (var a = 0; a < newlines.length; a++) { qw(newlines[a]); }\r\n\t\treturn newlines;\r\n\t}\r\n\r\n\t//convert some similar characters to prevent problems when a character is slightly misread\r\n\tsimplefyLine(str: string) {\r\n\t\tstr = str.replace(/[\\[\\]\\.\\':;,_ ]/g, \"\");\r\n\t\tstr = str.replace(/[|!lIji]/g, \"l\");\r\n\t\treturn str;\r\n\t}\r\n\r\n\tmatchLines(line1: string, line2: string) {\r\n\t\treturn this.simplefyLine(line1) == this.simplefyLine(line2);\r\n\t}\r\n\r\n\tcheckLegacyBG(buf: ImageData, x: number, y: number) {\r\n\t\treturn buf.getColorDifference(x, y, 155, 140, 107) < 20;\r\n\t}\r\n\r\n\tfind(img: ImgRefBind) {\r\n\t\tif (!img) { img = a1lib.captureHoldFullRs(); }\r\n\t\tif (!img) { return null; }\r\n\t\tvar toprights = [];\r\n\r\n\t\timg.findSubimage(imgs.plusbutton).forEach(loc => toprights.push({ x: loc.x + 2, y: loc.y - 1, type: \"hidden\" }));\r\n\t\timg.findSubimage(imgs.minusbutton).forEach(loc => toprights.push({ x: loc.x + 2, y: loc.y + 21, type: \"full\" }));\r\n\t\tconsole.log(toprights);\r\n\r\n\t\tvar botlefts = [];\r\n\t\timg.findSubimage(imgs.chatbubble).forEach(loc => {\r\n\t\t\t//107,2 press enter to chat\r\n\t\t\t//102,2 click here to chat\r\n\t\t\tvar data = img.toData(loc.x + 102, loc.y + 1, 28 + (107 - 102), 10);\r\n\t\t\tif (data.pixelCompare(imgs.entertochat, 0, 1) != Infinity || data.pixelCompare(imgs.entertochat, (107 - 102), 1) != Infinity) {\r\n\t\t\t\tbotlefts.push(loc);\r\n\t\t\t}\r\n\t\t\t//i don't even know anymore some times the bubble is 1px higher (i think it might be java related)\r\n\t\t\telse if (data.pixelCompare(imgs.entertochat, 0, 0) != Infinity || data.pixelCompare(imgs.entertochat, (107 - 102), 0) != Infinity) {\r\n\t\t\t\tloc.y -= 1;\r\n\t\t\t\tbotlefts.push(loc);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar pixel = img.toData(loc.x, loc.y - 2, 1, 1);\r\n\t\t\t\tif (pixel.data[0] == 255 && pixel.data[1] == 255 && pixel.data[2] == 255) {\r\n\t\t\t\t\tbotlefts.push(loc);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"unlinked quickchat bubble \" + JSON.stringify(loc));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\timg.findSubimage(imgs.chatLegacyBorder).forEach(loc => {\r\n\t\t\tbotlefts.push({ x: loc.x, y: loc.y - 1 });\r\n\t\t});\r\n\t\tconsole.log(botlefts);\r\n\r\n\t\t//check if we're in full-on legacy\r\n\t\tif (botlefts.length == 1 && toprights.length == 0) {\r\n\t\t\t//cheat in a topright without knowing it's actual height\r\n\t\t\tvar pos = img.findSubimage(imgs.legacyreport);\r\n\t\t\tif (pos.length == 1) { toprights.push({ x: pos[0].x + 32, y: pos[0].y - 170, type: \"legacy\" }); }\r\n\t\t}\r\n\r\n\t\tvar groups: Chatbox[] = [];\r\n\t\tvar recurs = 0;\r\n\t\tvar groupcorners = function () {\r\n\t\t\trecurs++;\r\n\t\t\tvar done = true;\r\n\t\t\tfor (var a in toprights) {\r\n\t\t\t\tif (groups.find(q => q.topright == toprights[a])) { continue; }\r\n\t\t\t\tdone = false;\r\n\t\t\t\tfor (var b in botlefts) {\r\n\t\t\t\t\tif (groups.find(q => q.botleft == botlefts[b])) { continue; }\r\n\t\t\t\t\tvar group: Chatbox = {\r\n\t\t\t\t\t\ttimestamp: false,\r\n\t\t\t\t\t\ttype: \"main\",\r\n\t\t\t\t\t\tleftfound: false,\r\n\t\t\t\t\t\ttopright: toprights[a],\r\n\t\t\t\t\t\tbotleft: botlefts[b],\r\n\t\t\t\t\t\trect: new a1lib.Rect(botlefts[b].x, toprights[a].y, toprights[a].x - botlefts[b].x, botlefts[b].y - toprights[a].y),\r\n\t\t\t\t\t\tline0x: 0,\r\n\t\t\t\t\t\tline0y: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (groups.find(q => q.rect.overlaps(group.rect))) { continue; }\r\n\t\t\t\t\tgroups[groups.length] = group;\r\n\t\t\t\t\tif (groupcorners()) { return true; }\r\n\t\t\t\t\tgroups.splice(groups.length - 1, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn done;\r\n\t\t}\r\n\r\n\t\tif (!groupcorners()) { return null; }\r\n\t\tconsole.log(recurs);\r\n\t\tconsole.log(groups);\r\n\t\tvar mainbox: Chatbox = null;\r\n\t\tvar readargs = JSON.stringify({ colors: [a1lib.mixColor(255, 255, 255)], backwards: true });\r\n\t\tgroups.forEach(group => {\r\n\t\t\tvar nameread = JSON.parse(alt1.bindReadStringEx(img.handle, group.rect.x - 10, group.rect.y + group.rect.height + 9, readargs));\r\n\t\t\tif (nameread) {\r\n\t\t\t\tvar d = 0;\r\n\t\t\t\tif (nameread.text == \"Clan Chat\") { group.type = \"cc\"; d = 62; }\r\n\t\t\t\telse if (nameread.text == \"Friends Chat\") { group.type = \"fc\"; d = 76; }\r\n\t\t\t\telse if (nameread.text == \"Group Chat\") { group.type = \"gc\"; d = 69; }\r\n\t\t\t\telse if (nameread.text == \"Guest Clan Chat\") { group.type = \"gcc\"; d = 98; }\r\n\t\t\t\tif (d != 0) {\r\n\t\t\t\t\tgroup.rect.x -= d;\r\n\t\t\t\t\tgroup.rect.width += d;\r\n\t\t\t\t\tgroup.leftfound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!group.leftfound && group.topright.type == \"full\") {\r\n\t\t\t\tvar pos = [];\r\n\t\t\t\tif (pos.length == 0) { pos = img.findSubimage(imgs.gameall, group.rect.x - 300, group.rect.y - 22, 310, 16); }\r\n\t\t\t\tif (pos.length == 0) { pos = img.findSubimage(imgs.gamefilter, group.rect.x - 300, group.rect.y - 22, 310, 16); }\r\n\t\t\t\tif (pos.length == 0) { pos = img.findSubimage(imgs.gameoff, group.rect.x - 300, group.rect.y - 22, 310, 16); }\r\n\t\t\t\tif (pos.length != 0) {\r\n\t\t\t\t\tgroup.leftfound = true;\r\n\t\t\t\t\tvar d = group.rect.x - pos[0].x;\r\n\t\t\t\t\tgroup.rect.x -= d;\r\n\t\t\t\t\tgroup.rect.width += d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//alt1.overLayRect(a1lib.mixcolor(255, 255, 255), group.rect.x, group.rect.y, group.rect.width, group.rect.height, 10000, 2);\r\n\t\t\t//alt1.overLayTextEx(group.type, a1lib.mixcolor(255, 255, 255), 20, group.rect.x + group.rect.width / 2 | 0, group.rect.y + group.rect.height / 2 | 0, 10000, \"\", true, true);\r\n\r\n\r\n\t\t\tgroup.line0x = 0;\r\n\t\t\tgroup.line0y = group.rect.height - 10;//- 9;//-10 before mobile interface update\r\n\r\n\t\t\tif (group.leftfound) { group.timestamp = this.checkTimestamp(img, group); }\r\n\t\t\tif (mainbox == null || group.type == \"main\") { mainbox = group; }\r\n\t\t});\r\n\r\n\t\tif (groups.length == 0) { return null; }\r\n\r\n\t\tvar res = {\r\n\t\t\tmainbox: mainbox,\r\n\t\t\tboxes: groups\r\n\t\t};\r\n\t\tthis.pos = res;\r\n\t\treturn res;\r\n\t}\r\n\r\n\tcheckTimestamp(img: ImgRefBind, pos) {\r\n\t\t//the chatbox has timestamps if in the first 3 lines a line start with [00:00:00]\r\n\t\tvar readargs = { colors: [a1lib.mixColor(127, 169, 255)] };\r\n\t\tfor (var line = 0; line < 3; line++) {\r\n\t\t\tvar y = pos.rect.y + pos.line0y - line * this.lineheight;\r\n\t\t\tvar x = pos.rect.x + pos.line0x;\r\n\t\t\tx += 3;//the leading '[' can't be the positioning char\r\n\t\t\tvar str = JSON.parse(alt1.bindReadStringEx(img.handle, x, y, JSON.stringify(readargs)));\r\n\r\n\t\t\tif (str && str.text.match(/^\\d\\d:\\d\\d:\\d\\d/)) { return true; }\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tstatic getFontColor(buffer: ImageData, x: number, y: number, w: number, h: number) {\r\n\t\tvar bestscore = -Infinity;\r\n\t\tvar bestx = 0, besty = 0;\r\n\t\tvar data = buffer.data;\r\n\r\n\t\tfor (var cx = x; cx < x + w - 1; cx++) {\r\n\t\t\tfor (var cy = y; cy < y + h - 1; cy++) {\r\n\t\t\t\tvar i1 = 4 * cx + 4 * buffer.width * cy;\r\n\t\t\t\tvar i2 = 4 * (cx + 1) + 4 * buffer.width * (cy + 1);\r\n\r\n\t\t\t\tvar colorness = data[i1] + data[i1 + 1] + data[i1 + 2];\r\n\t\t\t\tvar blackness = data[i2] + data[i2 + 1] + data[i2 + 2];\r\n\r\n\t\t\t\tvar score = Math.min(255, 255 + 20 - blackness) * colorness;\r\n\t\t\t\tif (score > bestscore) {\r\n\t\t\t\t\tbestscore = score;\r\n\t\t\t\t\tbestx = cx;\r\n\t\t\t\t\tbesty = cy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn buffer.getPixel(bestx, besty);\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__alt1_base__;"],"sourceRoot":""}